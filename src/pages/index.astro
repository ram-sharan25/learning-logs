---
import BaseLayout from "@layouts/BaseLayout.astro";
import { getCollection } from "astro:content";

const allPosts = await getCollection("blog", ({ data }) => !data.draft);
const recentPosts = allPosts
  .sort((a, b) => b.data.date.valueOf() - a.data.date.valueOf())
  .slice(0, 3);
---

<BaseLayout title="Ram Sharan Rimal - Software Engineer & Learner">
  <div class="space-y-8">
    <!-- Hero Section -->
    <section class="py-12">
      <h1 class="text-4xl font-bold mb-4">
        <span class="terminal-prompt"></span>Hello, I'm Ram<span class="cursor"
        ></span>
      </h1>
      <p class="text-xl text-solarized-base0 mb-6">
        Software Engineer specializing in full-stack development with React,
        Node.js, and TypeScript. Currently a Graduate Research Assistant at
        NASA-IMPACT.
      </p>
      <!-- About Section -->
      <section class="py-2">
        <h2 class="text-2xl font-bold mb-1">About Me</h2>
        <div class="space-y-4 text-solarized-base0">
          <p>
            I'm a versatile Software Engineer with 4+ years of professional
            experience in full-stack development, specializing in React,
            Node.js, and TypeScript. Currently pursuing my Masters in Computer
            Science at the University of Alabama in Huntsville while working as
            a Graduate Research Assistant at NASA.
          </p>
          <p>
            I'm passionate about building scalable web applications, exploring
            modern web technologies, and documenting my learning journey. My
            interests include Computer Systems, Software Engineering,
            Philosophy, Learning.
          </p>
          <p>
            When I'm not coding, you'll find me reading books, playing with my
            emacs config, pruning my notes, writing, or traveling.
          </p>
        </div>
      </section>
      <section>
        <div class="max-w pt-4">
          <!-- Top horizontal line -->

          <div class="flex gap-3">
            <span class="text-xl">Socials:</span>
            <a
              href="mailto:rimal.ram25@gmail.com"
              class="flex text-base text-solarized-base0 hover:text-solarized-blue transition-colors"
            >
              <svg
                class="w-5 h-5 fill-current"
                viewBox="0 0 24 24"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"
                ></path>
              </svg>
            </a>
            <a
              href="https://github.com/ram-sharan25"
              target="_blank"
              rel="noopener noreferrer"
              class="flex text-base text-solarized-base0 hover:text-solarized-blue transition-colors"
            >
              <svg
                class="w-5 h-5 fill-current"
                viewBox="0 0 24 24"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z"
                ></path>
              </svg>
            </a>
            <a
              href="https://www.linkedin.com/in/ram-sharan-rimal-b36493152/"
              target="_blank"
              rel="noopener noreferrer"
              class="flex text-base text-solarized-base0 hover:text-solarized-blue transition-colors"
            >
              <svg
                class="w-5 h-5 fill-current"
                viewBox="0 0 24 24"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"
                ></path>
              </svg>
            </a>
            <a
              href="https://medium.com/@still-ness"
              target="_blank"
              rel="noopener noreferrer"
              class="flex text-base text-solarized-base0 hover:text-solarized-blue transition-colors"
            >
              <svg
                class="w-5 h-5 fill-current"
                viewBox="0 0 24 24"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M13.54 12a6.8 6.8 0 01-6.77 6.82A6.8 6.8 0 010 12a6.8 6.8 0 016.77-6.82A6.8 6.8 0 0113.54 12zM20.96 12c0 3.54-1.51 6.42-3.38 6.42-1.87 0-3.39-2.88-3.39-6.42s1.52-6.42 3.39-6.42 3.38 2.88 3.38 6.42M24 12c0 3.17-.53 5.75-1.19 5.75-.66 0-1.19-2.58-1.19-5.75s.53-5.75 1.19-5.75C23.47 6.25 24 8.83 24 12z"
                ></path>
              </svg>
            </a>
          </div>

          <!-- Bottom horizontal line -->
          <hr class="border-t border-solarized-base01 mt-10" />
        </div>
      </section>
      <div class="flex gap-4">
        <a
          href="/blog"
          class="px-6 py-3 bg-solarized-base02 border-2 border-solarized-blue text-solarized-blue hover:bg-solarized-blue hover:text-solarized-base03 transition-all rounded"
        >
          Read My Blog →
        </a>
      </div>
    </section>
    <!-- Recent Posts -->
    {
      recentPosts.length > 0 && (
        <section>
          <h2 class="text-2xl font-bold mb-6">Recent Posts</h2>
          <div class="space-y-5">
            {recentPosts.map((post) => (
              <article>
                <a href={`/blog/${post.slug}`} class="group block">
                  <div class="flex justify-between items-baseline mb-1">
                    <h3 class="text-base group-hover:text-solarized-blue transition-colors" style="color: var(--color-orange);">
                      {post.data.title}
                    </h3>
                    <time
                      datetime={post.data.date.toISOString()}
                      class="text-sm text-solarized-base00 ml-4 whitespace-nowrap"
                    >
                      {post.data.date
                        .toLocaleDateString("en-US", {
                          year: "numeric",
                          month: "2-digit",
                          day: "2-digit",
                        })
                        .replace(/\//g, ".")}
                    </time>
                  </div>
                  {post.data.description && (
                    <p class="text-sm text-solarized-base00">
                      {post.data.description}
                    </p>
                  )}
                </a>
              </article>
            ))}
          </div>
          <a
            href="/blog"
            class="inline-block mt-6 text-solarized-blue hover:text-solarized-cyan transition-colors"
          >
            View all posts →
          </a>
        </section>
      )
    }

    <!-- Contact Section -->
  </div>
</BaseLayout>
